<!DOCTYPE html>




<html
 dir="ltr"
 lang="en"
 >
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content=#ffffff>
    <link rel="stylesheet" href="/assets/css/app.css">

    <!--Bailey3D: Added Magnific popup-->
    <link rel="stylesheet" href="/assets/css/magnific-popup.css">

    <!--Bailey3D: Added twentytwenty (image comparison)-->
    <link rel="stylesheet" href="/assets/css/twentytwenty.css" type="text/css" media="screen" />

    <!--Bailey3D: Added splide-->
    <link rel="stylesheet" href="/assets/packages/splide.min.css" type="text/css" media="screen" />
    <!--<link rel="stylesheet" href="/assets/packages/splide-default.min.css" type="text/css" media="screen" />-->

    <link rel="shortcut icon" type="image/png"
           href="https://assets.bailey3d.com/website.assets/icon.png" 
    />
    <script defer src="https://unpkg.com/alpinejs@3.9.0/dist/cdn.min.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">
    
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma-social@1/bin/bulma-social.min.css">
    
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Drop To Terrain (Houdini) | Bailey3D</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Drop To Terrain (Houdini)" />
<meta name="author" content="Bailey Martin" />
<meta property="og:locale" content="en" />
<meta name="description" content="Houdin script used to drop geometry to input terrain with different drop modes." />
<meta property="og:description" content="Houdin script used to drop geometry to input terrain with different drop modes." />
<link rel="canonical" href="http://0.0.0.0:4000/2021/10/30/drop_to_terrain/" />
<meta property="og:url" content="http://0.0.0.0:4000/2021/10/30/drop_to_terrain/" />
<meta property="og:site_name" content="Bailey3D" />
<meta property="og:image" content="https://github.com/Bailey3D-Website/2021/blob/main/projects/Houdini%20Drop/thumb.png?raw=true" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-10-30T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://github.com/Bailey3D-Website/2021/blob/main/projects/Houdini%20Drop/thumb.png?raw=true" />
<meta property="twitter:title" content="Drop To Terrain (Houdini)" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Bailey Martin"},"dateModified":"2021-10-30T00:00:00+00:00","datePublished":"2021-10-30T00:00:00+00:00","description":"Houdin script used to drop geometry to input terrain with different drop modes.","headline":"Drop To Terrain (Houdini)","image":"https://github.com/Bailey3D-Website/2021/blob/main/projects/Houdini%20Drop/thumb.png?raw=true","mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4000/2021/10/30/drop_to_terrain/"},"url":"http://0.0.0.0:4000/2021/10/30/drop_to_terrain/"}</script>
<!-- End Jekyll SEO tag -->

    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YBL8T39XKG"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-YBL8T39XKG');
</script>
<!-- head scripts -->
<script src="/assets/js/main.min.js"></script>

<!--Bailey3D: Added jQuery-->
<script src="/assets/js/jquery.min.js" type="text/javascript"></script>
<script src="/assets/js/jquery.fitvids.js" type="text/javascript"></script>

<!--Bailey3D: Added Magnific popup-->
<script src="/assets/js/jquery.magnific-popup.min.js" type="text/javascript"></script>

<!--Bailey3D: Added twentytwenty (image comparison)-->
<script src="/assets/js/jquery.event.move.js" type="text/javascript"></script>
<script src="/assets/js/jquery.twentytwenty.js" type="text/javascript"></script>

<!--Bailey3D: Added Splide-->
<script src="/assets/packages/splide.min.js" type="text/javascript"></script>
</head>

  <body>
    <nav class="navbar is-primary " x-data="{ openNav: false }">
    <div class="container">


        <div class="navbar-brand">

            <div style="display: flex; justify-content: center; align-items: center;">
                
                    <a class="site-logo" href="/"><img src="https://assets.bailey3d.com/website.assets/icon.png" style="max-width: 32px; max-height: 32px;"></a>
                
            </div>

            <a href="/" class="navbar-item">
                Bailey3D
            </a>
            <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navMenu" :class="{ 'is-active': openNav }" x-on:click="openNav = !openNav">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>

        <div class="navbar-menu" id="navMenu" :class="{ 'is-active': openNav }">
            <div class="navbar-start">
                <a href="/" class="navbar-item ">Home</a>
                
                
                    
                    <a href="/blog/" class="navbar-item ">Blog</a>
                    
                
                    
                    <a href="/store/" class="navbar-item ">Store</a>
                    
                
                    
                    <div class="navbar-item has-dropdown is-hoverable ">
                        <a href="" class="navbar-link ">Docs</a>
                        <div class="navbar-dropdown">
                            
                            <a href="/docs/SketchIt/index/" class="navbar-item ">SketchIt</a>
                            
                            <a href="/docs/RetroFiltersPack/index/" class="navbar-item ">Retro Filters Pack</a>
                            
                            <a href="/docs/Juniper/index/" class="navbar-item ">Juniper</a>
                            
                        </div>
                    </div>
                    
                
                
            </div>

            <div class="navbar-end">
                
            </div>

        </div>
    </div>
</nav>

    
        <!--
:desc Page used as the hero banner for a page - with info on the name/docs
:desc for store pages this will include price and rating
:desc for blog pages this will include tags and author
-->




<!--
store properties
-->



<section class="hero  is-large  is-bold is-primary"  style="background: url('https://github.com/Bailey3D-Website/2021/blob/main/projects/Houdini%20Drop/thumb.png?raw=true') no-repeat center center; background-size: cover;" >
    <div class="hero-body  dark ">
        <div class="container">

            
                <h1 class="title is-2">Drop To Terrain (Houdini)</h1>
            

            <p class="subtitle is-3"></p>
            

            
                <p>Published: Oct 30, 2021 by Bailey Martin</p>
            

            <div>

                
                    

                    
                


                

                
                    <a class="button is-secondary"><i>Houdini</i></a>
                
                    <a class="button is-secondary"><i>Assets</i></a>
                
                    <a class="button is-secondary"><i>Tools</i></a>
                
                    <a class="button is-secondary"><i>Pipeline</i></a>
                

                

            </div>

            


        </div>
    </div>
</section>


    
    <section class="section">
        <div class="container">
            <div class="columns is-multiline">
                
                <div class="column is-8">
                    

                    <div class="content">

    <!--<p>Published: Oct 30, 2021 by Bailey Martin</p>-->

    

    <p>Drop To Terrain is a Houdini based tool used to drop different types of geometry to terrain, using different methods.<br />
It includes a few different drop methods for different geometry types, from more deformable geometry such as tree roots, to hard surface geometry such as rocks.</p>

<p><img src="https://github.com/Bailey3D-Website/2021/blob/main/projects/Houdini%20Drop/thumb.png?raw=true" alt="Image" class="center-image" /></p>

<p>It’s worth noting this doesn’t run a physics simulation, it’s only for direct dropping to terrain.<br />
A good use for this would be foliage placement.  Using per-vertex drop to deform tree roots to terrain, and the bounds based dropfor dropping tree meshes.</p>

<p>You can download the digital asset <a href="https://github.com/Bailey3D-Website/2021/tree/main/resources/houdini_drop">here</a>. It includes a HDA (Terrain Drop), and an example file including the rubber toy dropping to a simple terrain.</p>

<hr />

<h3 id="parameters">Parameters:</h3>

<p><img src="https://github.com/Bailey3D-Website/2021/blob/main/projects/Houdini%20Drop/params.jpg?raw=true" alt="Image" class="center-image" /></p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><b>Drop Mode</b></td>
      <td>The method used for dropping the geometry to the terrain</td>
    </tr>
    <tr>
      <td>Vertex</td>
      <td>Each vertex is dropped independently</td>
    </tr>
    <tr>
      <td>Element</td>
      <td>Each element is dropped independently (sub-mesh)</td>
    </tr>
    <tr>
      <td>BBox (Center)</td>
      <td>Drop is calculated from the center of the bounding box</td>
    </tr>
    <tr>
      <td>BBox (Corners)</td>
      <td>Drop is averaged from the 4 lower corners of the bounding box</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><b>Volume Preservation Mode</b></td>
      <td>Method used to preserve the vertical height in the mesh at each vertex</td>
    </tr>
    <tr>
      <td>BBox</td>
      <td>Vertical height of the mesh relative to the bounding box is used for thickness. This allows for overhanging geometry at the expense of fully accurate deformation, as the drop can only start from the bottom plane of the bbox</td>
    </tr>
    <tr>
      <td>Vertical Thickness</td>
      <td>Uses the actual vertical positions of the mesh (Up Axis) to calculate the mesh thickness at each drop position. This gives geometry that’s perfectly deformed to therrain, however can struggle when it comes to overhanging areas.</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><b>Hit Normal Influence</b></td>
      <td>Overall strength the normals of the terrain have on the final drop [0..1]</td>
    </tr>
    <tr>
      <td><b>Cap Holes?</b></td>
      <td>Caps open edges in the geometry. Useful as open edges can cause thickness calculations to fail.</td>
    </tr>
    <tr>
      <td><b>Height Offset</b></td>
      <td>Height offset applied to the geometry in the up axis. Useful to make the mesh sink into the terrain slightly</td>
    </tr>
    <tr>
      <td><b>Fractional Offset?</b></td>
      <td>When true, a [0..1] fraction is used for the offset. Where a value of 1.0 is equal to the meshes bounds in the up axis</td>
    </tr>
    <tr>
      <td><b>Smooth Strength</b></td>
      <td>Strength of the geometry smoothing applied to the mesh after drop is complete. This can help to clean up noisy geometry when hit normal influence is non-zero</td>
    </tr>
  </tbody>
</table>

<hr />

<h3 id="example-per-vertex-thickness-based">Example: Per Vertex (Thickness Based)</h3>

<p><img src="https://github.com/Bailey3D-Website/2021/blob/main/projects/Houdini%20Drop/per_vert_with_thickness.jpg?raw=true" alt="Image" class="center-image" /></p>

<p>Properties: <code class="language-plaintext highlighter-rouge">Drop Mode: Vertex</code>  <code class="language-plaintext highlighter-rouge">Volume Mode: Vertical Thickness</code></p>

<p>This mode is best used on geometry that should flow with the terrain, as the geometry is actually deformed with the drop mesh (Ie, tree roots)</p>

<p>Drops each vertex in the mesh independently to the terrain. Gathers a terrain normal for each vertex, meaning normal deformation will match exactly to the terrain below.</p>

<h3 id="example-per-vertex-drop-bbox-based">Example: Per Vertex Drop (BBox Based)</h3>

<p><img src="https://github.com/Bailey3D-Website/2021/blob/main/projects/Houdini%20Drop/vertex_with_bbox.jpg?raw=true" alt="Image" class="center-image" /></p>

<p>Properties: <code class="language-plaintext highlighter-rouge">Drop Mode: Vertex</code> <code class="language-plaintext highlighter-rouge">Volume Mode: BBox</code></p>

<p>Same drop method as the previous example, but uses a Bounds based thickness calculation. Useful for larger meshes with overhanging pieces, as the height is preserved (see the image comparisons)</p>

<table>
  <thead>
    <tr>
      <th>Thickness Based</th>
      <th>BBox Based</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><img src="https://github.com/Bailey3D-Website/2021/blob/main/projects/Houdini%20Drop/vertex_with_thickness.jpg?raw=true" alt="Image" /></td>
      <td><img src="https://github.com/Bailey3D-Website/2021/blob/main/projects/Houdini%20Drop/vertex_with_bbox.jpg?raw=true" alt="Image" /></td>
    </tr>
    <tr>
      <td>Note the inaccurate looking drop on the overhanging portions of the mesh (snout)</td>
      <td>Overhanging areas have vertical height preserved</td>
    </tr>
  </tbody>
</table>

<h3 id="example-per-element-drop">Example: Per Element Drop</h3>

<p><img src="https://github.com/Bailey3D-Website/2021/blob/main/projects/Houdini%20Drop/elements_with_thickness.jpg?raw=true" alt="Image" class="center-image" /></p>

<p>Properties: <code class="language-plaintext highlighter-rouge">Drop Mode: Element</code> <code class="language-plaintext highlighter-rouge">Volume Mode: Vertical Thickness</code></p>

<p>Drop is applied to each sub-mesh in the geometry using the average offset for all verts in the element, resulting in a final drop that has no deformation.
Useful for hard surface geometry such as rocks and clutter.</p>

<h3 id="example-bbox-center-drop--bbox-corners-drop">Example: BBox Center Drop / BBox Corners Drop</h3>

<p><img src="https://github.com/Bailey3D-Website/2021/blob/main/projects/Houdini%20Drop/bbox_center_with_bbox_corners.jpg?raw=true" alt="Image" class="center-image" /></p>

<p>Properties: <code class="language-plaintext highlighter-rouge">Drop Mode: BBox (Center) or BBox (Corners)</code></p>

<p>Uniform drop offset is applied across the whole geometry. <br />
When using BBox (Corners) drop position is the average of the 4 bottom corners of the bounds.<br />
When using BBox (Center) drop is calculated from the center of the bounds.</p>

<hr />

<h3 id="the-other-stuff">The Other Stuff</h3>

<p>The node graph itself is pretty basic, as the drop is all calculated through a python node inside the network. But here it is for those who are interested:</p>

<p><img src="https://github.com/Bailey3D-Website/2021/blob/main/projects/Houdini%20Drop/node_graph.jpg?raw=true" alt="Image" class="center-image" /></p>

<p>And here’s a gist of the python code for the actual drop:</p>

<style type="text/css">
  .gist-file
  .gist-data {max-height: 500px;}
</style>

<script src="https://gist.github.com/Bailey3D/7d8f17750df1b33481070e6542cfd7f0.js"></script>


</div>

<div class="tags">
    
      <span class="tag  is-primary ">
    Houdini
</span>

    
      <span class="tag  is-primary ">
    Assets
</span>

    
      <span class="tag  is-primary ">
    Tools
</span>

    
      <span class="tag  is-primary ">
    Pipeline
</span>

    
</div>


<p><strong>Share</strong></p>
<div class="buttons ">
    <a class="button is-medium is-facebook"
       onclick="window.open('https://www.facebook.com/share.php?u=http://0.0.0.0:4000/2021/10/30/drop_to_terrain/');">
        <span class="icon"><i class="fab fa-facebook fa-lg"></i></span>
    </a>
    <a class="button is-medium is-twitter"
       onclick="window.open('https://twitter.com/intent/tweet?text=http://0.0.0.0:4000/2021/10/30/drop_to_terrain/');">
        <span class="icon"><i class="fab fa-twitter fa-lg"></i></span>
    </a>
    <a class="button is-medium is-linkedin"
       onclick="window.open('https://www.linkedin.com/shareArticle?mini=true&url=http://0.0.0.0:4000/2021/10/30/drop_to_terrain/&title=Drop+To+Terrain+%28Houdini%29&summary=&source=');">
        <span class="icon"><i class="fab fa-linkedin fa-lg"></i></span>
    </a>
    <a class="button is-medium is-reddit"
       onclick="window.open('https://reddit.com/submit?url=http://0.0.0.0:4000/2021/10/30/drop_to_terrain/');">
        <span class="icon"><i class="fab fa-reddit fa-lg"></i></span>
    </a>
</div>




                </div>
                
                <div class="column is-4-desktop is-4-tablet">
                    <!--
:desc Vertical list of all top store products (small)
-->

    <p class="title is-4">Store</p>


<div class="columns is-multiline">

    
        
            
        
            
        
            
        
            
                <div class="column is-12">
                    <!--
:desc This file is used as a template for a product widget
-->




<div class="card">
    
    <div class="card-image">
        <a href="/products/retro_filters_pack/">
            <img src="https://github.com/Bailey3D-Website/2021/blob/main/packages/RetroFiltersPack/Images/Gallery/gallery_main.jpg?raw=true" alt="Retro Filters Pack">
        </a>
    </div>
    
    <div class="card-content">
        <div class="content">
            
            <a class="title is-4" href="/products/retro_filters_pack/">Retro Filters Pack</a>
            
            
            <p>Pack containing filters for VHS / Glitch, CRT Monitor, Vintage, Pixelate, Retro Console, Arcade Machine, and more..</p>

            
        </div>

        

        <div>
            
                <a href="/products/retro_filters_pack/" class="button is-primary">$39.99</a>
            

            
                <a href="/products/retro_filters_pack/" class="button is-secondary">Unreal</a>
            
                <a href="/products/retro_filters_pack/" class="button is-secondary">Shaders</a>
            
        </div>

    </div>
</div>

                </div>
            
        
            
        
    
        
            
                <div class="column is-12">
                    <!--
:desc This file is used as a template for a product widget
-->




<div class="card">
    
    <div class="card-image">
        <a href="/products/iridescent_materials/">
            <img src="https://github.com/Bailey3D-Website/2021/blob/main/packages/IridescentMaterials/featured.jpg?raw=true" alt="Iridescent Materials Pack">
        </a>
    </div>
    
    <div class="card-content">
        <div class="content">
            
            <a class="title is-4" href="/products/iridescent_materials/">Iridescent Materials Pack</a>
            
            
            <p>Pearlescent, Bubbles, Iridescent Paint</p>

            
        </div>

        
            
            
    <div class="content left">
        
        <span class="icon">
            <i class="fas fa-star"></i>
        </span>
        
        <span class="icon">
            <i class="fas fa-star"></i>
        </span>
        
        <span class="icon">
            <i class="fas fa-star"></i>
        </span>
        
        <span class="icon">
            <i class="fas fa-star"></i>
        </span>
        
        <span class="icon">
            <i class="fas fa-star"></i>
        </span>
        
        
        
    </div>

        

        <div>
            
                <a href="/products/iridescent_materials/" class="button is-primary">$24.99</a>
            

            
                <a href="/products/iridescent_materials/" class="button is-secondary">Unreal</a>
            
                <a href="/products/iridescent_materials/" class="button is-secondary">Shaders</a>
            
        </div>

    </div>
</div>

                </div>
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
                <div class="column is-12">
                    <!--
:desc This file is used as a template for a product widget
-->




<div class="card">
    
    <div class="card-image">
        <a href="/products/sketch_it/">
            <img src="https://github.com/Bailey3D-Website/2021/blob/main/packages/SketchIt/featured.jpg?raw=true" alt="Sketch-It">
        </a>
    </div>
    
    <div class="card-content">
        <div class="content">
            
            <a class="title is-4" href="/products/sketch_it/">Sketch-It</a>
            
            
            <p>Hand Drawn Post Process Pack</p>

            
        </div>

        
            
            
    <div class="content left">
        
        <span class="icon">
            <i class="fas fa-star"></i>
        </span>
        
        <span class="icon">
            <i class="fas fa-star"></i>
        </span>
        
        <span class="icon">
            <i class="fas fa-star"></i>
        </span>
        
        <span class="icon">
            <i class="fas fa-star"></i>
        </span>
        
        <span class="icon">
            <i class="fas fa-star"></i>
        </span>
        
        
        
    </div>

        

        <div>
            
                <a href="/products/sketch_it/" class="button is-primary">$23.99</a>
            

            
                <a href="/products/sketch_it/" class="button is-secondary">Unreal</a>
            
                <a href="/products/sketch_it/" class="button is-secondary">Shaders</a>
            
        </div>

    </div>
</div>

                </div>
            
        
    
        
            
        
            
                <div class="column is-12">
                    <!--
:desc This file is used as a template for a product widget
-->




<div class="card">
    
    <div class="card-image">
        <a href="/products/mesh_splitter/">
            <img src="https://github.com/Bailey3D-Website/2021/blob/main/packages/MeshSplitter/featured.jpg?raw=true" alt="Mesh Splitter">
        </a>
    </div>
    
    <div class="card-content">
        <div class="content">
            
            <a class="title is-4" href="/products/mesh_splitter/">Mesh Splitter</a>
            
            
            

            
        </div>

        

        <div>
            
                <a href="/products/mesh_splitter/" class="button is-primary">Free</a>
            

            
                <a href="/products/mesh_splitter/" class="button is-secondary">3DS Max</a>
            
                <a href="/products/mesh_splitter/" class="button is-secondary">Tools</a>
            
        </div>

    </div>
</div>

                </div>
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
                <div class="column is-12">
                    <!--
:desc This file is used as a template for a product widget
-->




<div class="card">
    
    <div class="card-image">
        <a href="/products/quick_merge_selection/">
            <img src="https://github.com/Bailey3D-Website/2021/blob/main/packages/MergeSelection/featured.jpg?raw=true" alt="Quick Merge Selection">
        </a>
    </div>
    
    <div class="card-content">
        <div class="content">
            
            <a class="title is-4" href="/products/quick_merge_selection/">Quick Merge Selection</a>
            
            
            

            
        </div>

        

        <div>
            
                <a href="/products/quick_merge_selection/" class="button is-primary">Free</a>
            

            
                <a href="/products/quick_merge_selection/" class="button is-secondary">3DS Max</a>
            
                <a href="/products/quick_merge_selection/" class="button is-secondary">Tools</a>
            
        </div>

    </div>
</div>

                </div>
            
        
            
        
            
        
    
</div>

<div class="has-text-centered">
    <a href="/store/" class="button is-primary">See All Products..</a>
</div>



                </div>
                
            </div>
        </div>
    </section>
    
        <footer class="footer">
    <div class="container">
        
        
        <div class="columns is-multiline">
            
        </div>
        

        <div class="content is-small has-text-centered">
            <p class="">Copyright © <a href="https://www.bailey3d.com">Bailey Martin 2025</a></p>
        </div>
    </div>
</footer>

    
    <script src="/assets/js/app.js" type="text/javascript"></script><!-- footer scripts -->
</body>
</html>
